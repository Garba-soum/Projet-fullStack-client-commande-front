<nav class="navbar">
  <div class="navbar-left" *ngIf="isLoggedIn()">
    <a routerLink="/clients" routerLinkActive="active" [routerLinkActiveOptions]="{ exact: true }">
      Clients
    </a>

    <a routerLink="/commandes" routerLinkActive="active">
      Commandes
    </a>

    <span *ngIf="isAdmin" class="badge-admin">ADMIN</span>
  </div>

  <div class="navbar-right">
    <!-- Login visible seulement si NON connecté -->
    <a *ngIf="!isLoggedIn()" routerLink="/login" routerLinkActive="active">
      Login
    </a>

    <!-- Déconnexion visible seulement si connecté -->
    <button *ngIf="isLoggedIn()" type="button" class="btn-logout" (click)="logout()">
      Déconnexion
    </button>
  </div>
</nav>

<!-- ✅ Toast en dehors de la navbar (propre) -->
<div
  *ngIf="toast.message"
  class="toast"
  [class.success]="toast.type === 'success'"
  [class.error]="toast.type === 'error'"
>
  {{ toast.message }}
</div>

<!-- ✅ UN SEUL router-outlet -->
<router-outlet></router-outlet>
