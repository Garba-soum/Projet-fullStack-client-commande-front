<div class="page">
  <div class="card">
    <h2>Créer un administrateur</h2>
    <p class="subtitle">Accessible uniquement aux comptes ADMIN.</p>

    <p *ngIf="errorMessage" class="error">{{ errorMessage }}</p>

    <form #f="ngForm" (ngSubmit)="onSubmit()">

      <div class="form-group">
        <label>Username</label>
        <input name="username" [(ngModel)]="username" required [disabled]="loading" />
        <div class="field-error" *ngIf="(f.submitted) && !username">
          Username obligatoire.
        </div>
      </div>

      <div class="form-group">
        <label>Email (optionnel)</label>
        <input name="email" [(ngModel)]="email" [disabled]="loading" />
      </div>

      <div class="form-group">
        <label>Mot de passe</label>
        <input type="password" name="password" [(ngModel)]="password" required minlength="6" [disabled]="loading" />
      </div>

      <div class="form-group">
        <label>Confirmer mot de passe</label>
        <input type="password" name="confirmPassword" [(ngModel)]="confirmPassword" required [disabled]="loading" />
      </div>

      <button class="btn btn-primary" type="submit" [disabled]="loading || f.invalid">
        {{ loading ? 'Création...' : 'Créer admin' }}
      </button>

    </form>
  </div>
</div>
